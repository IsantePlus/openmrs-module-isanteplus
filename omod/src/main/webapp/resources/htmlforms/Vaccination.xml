<htmlform formUuid="191bbeb5-e0ab-49bb-8df8-9346f5de8f61"
 formName="Vaccination"
 formVersion="1.0"	
 formEncounterType="ca3aed11-1aa4-42a1-b85c-8332fc8001fc"
 >
<script type="text/javascript">
// Set parameters for data validation
//space between dose for hepatiteb
window.hepatiteb2Spacing = 2419200000; // 1 month (in milliseconds)
window.hepatiteb3Spacing = 15768000000; // 6 months (in milliseconds)

//window.bcgMaxAge = 157680000000; // 5 years (in milliseconds)
window.polio0MaxAge = 1296000000; // 15 days (in milliseconds)
window.polio1MinAge = 3888000000; // 45 days (in milliseconds)
window.polio1MaxAge = 157680000000; // 5 years (in milliseconds)
window.polio1Spacing = 2419200000; // 1 month (28-days) (in milliseconds)
window.polio2MinAge = 6480000000; // 75 days (in milliseconds)
window.polio2MaxAge = 157680000000; // 5 years (in milliseconds)
window.polio2Spacing = 2419200000; // 1 month (in milliseconds)
window.polio3MinAge = 9072000000; // 105 days (in milliseconds)
window.polio3MaxAge = 157680000000; // 5 years (in milliseconds)
window.polio3Spacing = 2419200000; // 1 month (in milliseconds)
window.polio4MinAge = 40608000000; // 470 days (in milliseconds)
window.polio4MaxAge = 157680000000; // 5 years (in milliseconds)
window.polio4Spacing = 31536000000; // 1 year (in milliseconds)

window.penta1MinAge = 3888000000; // 45 days (in milliseconds)
window.penta1MaxAge = 31536000000; // 1 year (in milliseconds)
window.penta2MinAge =  6480000000; // 75 days (in milliseconds)
window.penta2MaxAge = 31536000000; // 1 year (in milliseconds)
window.penta2Spacing = 2419200000; // 1 month (in milliseconds)
window.penta3MinAge = 9072000000; // 105 days (in milliseconds)
window.penta3MaxAge = 31536000000; // 1 year (in milliseconds)
window.penta3Spacing = 2419200000; // 1 month (in milliseconds)
//For DiTePer
window.diteper1MinAge = 3888000000; // 45 days (in milliseconds)
window.diteper1MaxAge = 31536000000; // 1 year (in milliseconds)
window.diteper2MinAge =  6480000000; // 75 days (in milliseconds)
window.diteper2MaxAge = 31536000000; // 1 year (in milliseconds)
window.diteper2Spacing = 2419200000; // 1 month (in milliseconds)
window.diteper3MinAge = 9072000000; // 105 days (in milliseconds)
window.diteper3MaxAge = 31536000000; // 1 year (in milliseconds)
window.diteper3Spacing = 2419200000; // 1 month (in milliseconds)
window.diteper4Spacing = 31536000000; // 1 year (in milliseconds)
//For HIB
window.hib1MinAge = 3888000000; // 45 days (in milliseconds)
window.hib1MaxAge = 31536000000; // 1 year (in milliseconds)
window.hib2MinAge =  6480000000; // 75 days (in milliseconds)
window.hib2MaxAge = 31536000000; // 1 year (in milliseconds)
window.hib2Spacing = 2419200000; // 1 month (in milliseconds)
window.hib3MinAge = 9072000000; // 105 days (in milliseconds)
window.hib3MaxAge = 31536000000; // 1 year (in milliseconds)
window.hib3Spacing = 2419200000; // 1 month (in milliseconds)
window.hib4Spacing = 31536000000; // 1 year (in milliseconds)
//For ROR
window.ror1MinAge = 31536000000; // 1 year (in milliseconds)
window.ror2Spacing = 10512000000; // 4 months (in milliseconds)
//For RR
window.rr1MinAge = 23652000000; // 9 months (in milliseconds)
//For DT
window.dt1MinAge = 157680000000; // 5 years (in milliseconds)
window.dt2MinAge = 315576000000; // 10 years (in milliseconds)
//For Varicelle
window.varicelle1MinAge = 31536000000; // 1 year (in milliseconds)
//For Typhimvi
window.typhimvi1MinAge = 63115200000; // 24 months (in milliseconds)
window.typhimvi2Spacing = 94672800000; // 3 years (in milliseconds)
//For Meningo AC
window.meningo1MinAge = 63115200000; // 24 months (in milliseconds)
window.meningo2Spacing = 94672800000; // 3 years (in milliseconds)

//For BCG
window.bcg1MaxAge = 7889400000; // 3 months (in milliseconds)
//For Cholera
window.cholera1MinAge = 31536000000; // 1 year (in milliseconds)
window.cholera2Spacing = 3628800099.35; // 6 semaines (in milliseconds)
window.cholera3Spacing = 63115200000; // 24 months (in milliseconds)
//For Hepatite A
window.hepatitea1MinAge = 31536000000; // 1 year (in milliseconds)
window.hepatitea2Spacing = 15778800000; // 6 months (in milliseconds)
//=======================================================================================
window.rubmesMinAge = 23652000000; // 9 months (in milliseconds)
window.rubmesMaxAge = 157680000000; // 5 years (in milliseconds)

window.pneu1MinAge = 3888000000; // 45 days (in milliseconds)
window.pneu1MaxAge = 31536000000; // 1 year (in milliseconds)
window.pneu2MinAge =  6480000000; // 75 days (in milliseconds)
window.pneu2MaxAge = 31536000000; // 1 year (in milliseconds)
window.pneu2Spacing = 2419200000; // 1 month (in milliseconds)
window.pneu3MinAge = 9072000000; // 105 days (in milliseconds)
window.pneu3MaxAge = 31536000000; // 1 year (in milliseconds)
window.pneu3Spacing = 2419200000; // 1 month (in milliseconds)

window.rota1MinAge = 3888000000; // 45 days (in milliseconds)
window.rota1MaxAge = 13148719166; // 5 months (in milliseconds)
window.rota2MinAge =  6480000000; // 75 days (in milliseconds)
window.rota2MaxAge = 15778463000; // 6 months (in milliseconds)
window.rota2Spacing = 2419200000; // 1 month (in milliseconds)
//For HPV
window.hpv1MinAge = 441504000000; // 14 years (in milliseconds)

window.td1MinAge = 473040000000; // 15 years (in milliseconds)
window.td1MaxAge = 1545264000000; // 49 years (in milliseconds)
window.td2MinAge = 475668000000; // 15 years + 1 month (in milliseconds)
window.td2MaxAge = 1545264000000; // 49 years (in milliseconds)
window.td2Spacing = 2419200000; // 1 month (in milliseconds)
window.td3MinAge = 491436000000; // 15 years + 7 months (in milliseconds)
window.td3MaxAge = 1545264000000; // 49 years (in milliseconds)
window.td3Spacing = 15768000000; // 6 months (in milliseconds)
window.td4MinAge = 522972000000; // 16 years + 7 months (in milliseconds)
window.td4MaxAge = 1545264000000; // 49 years (in milliseconds)
window.td4Spacing = 31536000000; // 1 year (in milliseconds)
window.td5MinAge = 554508000000; // 17 years + 7 months (in milliseconds)
window.td5MaxAge = 1545264000000; // 49 years (in milliseconds)
window.td5Spacing = 31536000000; // 1 year (in milliseconds)
//For Diphtérie/Tétanos
window.diphtetanos1MinAge = 157680000000; // 5 years (in milliseconds)
window.diphtetanos2MinAge = 315576000000; // 10 years (in milliseconds)

window.vitAMaxAge = 8; // years
window.vitASpacing = 10512000000; // Every 4 months (in milliseconds)
window.multiTMinAge = 2; // years
window.multiTMaxAge = 13; // years
window.multiTSpacing = 2419200000; // Every 28 days (in milliseconds)
window.multiGMinAge = 13; // years
window.multiGSpacing = 2419200000; // Every 28 days (in milliseconds)
window.retrospectiveTime = 3942000000; // Data must be entered within 1.5 months (in milliseconds)
window.retrospectiveError = 'Li oblije nan dènye '+parseFloat(window.retrospectiveTime/2628000000).toFixed(1)+' mwa. Must be within past '+parseFloat(window.retrospectiveTime/2628000000).toFixed(1)+' months.';

</script>
<ifMode mode="ENTER">
<includeIf velocityTest="!(($patient.gender == 'F') || ($patient.gender == 'M')) || (! $patient.age)">   
   <script type="text/javascript">
       jQuery(function() {
           window.onload = function() {      
           window.alert("Vérifier que le sexe et la date de naissance du patient sont enregistrés sur le système !")
           window.history.back()
           } 
        });
   </script>
</includeIf>
</ifMode>

	<macros>
		headerColor =#00463F
		fontOnHeaderColor = white
	</macros>

	<style>
		.section {
			border: 1px solid $headerColor;
			padding: 1px;
			text-align: left;
			margin-bottom: 1em;
		}
		.sectionHeader {
			background-color: $headerColor;
			color: $fontOnHeaderColor;
			display: block;
			padding: 1px;
			font-weight: bold;
		}
		table.baseline-aligned td {
			vertical-align: baseline;
		}
		form input[type="checkbox"], form input[type="radio"], .form input[type="checkbox"], .form input[type="radio"] {
			float: none;
		    display: inline-block;
		}
		
		form label, .form label {
			display: inline-block;
		}
	</style>
<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg th{font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg .tg-ng6d{background-color:$headerColor;color:#333333;}
.tg .tg-g901{color:#333333;text-align:center;font-weight:bold;}
.tg .tg-bcg{background-color:#FBBE8F;text-align:center;font-weight:bold;}
.tg .tg-polio{background-color:#FFFF01;text-align:center;font-weight:bold;}
.tg .tg-penta{background-color:#C3D79A;text-align:center;font-weight:bold;}
.tg .tg-diteper{background-color:#C3D79A;text-align:center;font-weight:bold;}
.tg .tg-hib{background-color:#C3D79A;text-align:center;font-weight:bold;}
.tg .tg-ror{background-color:#B2A6CA;text-align:center;font-weight:bold;}
.tg .tg-rr{background-color:#B2A6CA;text-align:center;font-weight:bold;}
.tg .tg-varicelle{background-color:#FBBE8F;text-align:center;font-weight:bold;}
.tg .tg-pneu{background-color:#E5B7B7;text-align:center;font-weight:bold;}
.tg .tg-rota{background-color:#78923B;text-align:center;font-weight:bold;}
.tg .tg-hpv{background-color:#FBBE8F;text-align:center;font-weight:bold;}
.tg .tg-g902{color:#333333;text-align:center;}
.tg .tg-g903{color:#333333;text-align:center;vertical-align:top;}
.tg .tg-5bx4{font-weight:bold;background-color:$headerColor;color:#ffffff;text-align:center;vertical-align:top;}
hide.hidden {
    display: none;
}

</style>

<lookup complexExpression="
   &lt;script type=&quot;text/javascript&quot;>
       window.patientAge = &quot;$patient.age&quot;;
       window.patientAgeDays = &quot;$fn.patientAgeInDays()&quot;;
       window.patientBirthdate = &quot;$patient.birthdate&quot;;
   &lt;/script> "/>
<!-- Check to see if they have data for previously entered vaccinations -->
<ifMode mode="ENTER" include="false">
<lookup complexExpression="
#foreach( $vaccine in $fn.allObs('CIEL:984') ) 
   #if( $vaccine.valueCoded.equals($fn.getConcept('CIEL:77306')) )
        #set( $haemophilus = true )
   #end
   #if( $vaccine.valueCoded.equals($fn.getConcept('CIEL:781')) )
        #set( $dtp = true )
   #end
   #if( $vaccine.valueCoded.equals($fn.getConcept('CIEL:36')) )
        #set( $roug = true )
   #end
   #if( $vaccine.valueCoded.equals($fn.getConcept('CIEL:84879')) )
        #set( $tet = true )
   #end
#end"/>
</ifMode>

<script type="text/javascript">
if(jQuery){
      jQuery(document).ready(function(){
          window.newVitA = 0;
          window.newMultiT = 0;
          window.newMultiG = 0;
		if(!(getValue('hepatiteb1.date')))
		{
			jQuery('#hepatitebfield2').fadeOut(0);
			jQuery('#hepatitebfield3').fadeOut(0);
		}
		
		if((getValue('hepatiteb1.date')) || (Math.abs(new Date() - new Date(getValue('hepatiteb1.date'))) &gt;= window.hepatiteb2Spacing)){
			jQuery('#hepatitebfield2').fadeIn(0);
			jQuery('#hepatitebfield3').fadeOut(0);
		}
		if((getValue('hepatiteb2.date')) || (Math.abs(new Date() - new Date(getValue('hepatiteb2.date'))) &gt;= window.hepatiteb3Spacing)){
			jQuery('#hepatitebfield3').fadeIn(0);
		}
         // dim vaccinations that can't be entered because of age (if they don't have any data previously entered)
         if ( !(getValue('polio0.date') || (window.patientAgeDays*86400000) &lt; (window.polio0MaxAge+window.retrospectiveTime)) ) {
            jQuery('#poliofield0').fadeOut(0);
         }
         if ( !(getValue('polio1.date') || ((window.patientAgeDays*86400000) > window.polio1MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.polio1MaxAge+window.retrospectiveTime)) ) ) {
            jQuery('#poliofield1').fadeOut(0);
         }
        if (!getValue('polio2.date') ) {
         if ( !getValue('polio1.date') || (Math.abs(new Date() - new Date(getValue('polio1.date'))) &lt; window.polio2Spacing) || !(((window.patientAgeDays*86400000) > window.polio2MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.polio2MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#poliofield2').fadeOut(0);
         }
       }
      if (!getValue('polio3.date') ) {
         if ( !getValue('polio1.date') || !getValue('polio2.date') || (Math.abs(new Date() - new Date(getValue('polio2.date'))) &lt; window.polio3Spacing) || !(((window.patientAgeDays*86400000) > window.polio3MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.polio3MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#poliofield3').fadeOut(0);
         }
       }
      if (!getValue('polio4.date') ) {
         if ( !getValue('polio1.date') || !getValue('polio2.date') || !getValue('polio3.date') || (Math.abs(new Date() - new Date(getValue('polio3.date'))) &lt; window.polio4Spacing) || !(((window.patientAgeDays*86400000) > window.polio4MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.polio4MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#poliofield4').fadeOut(0);
         }
      }

        if ( !(getValue('penta1.date') || ((window.patientAgeDays*86400000) > window.penta1MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.penta1MaxAge+window.retrospectiveTime)) ) ) {
            jQuery('#pentafield1').fadeOut(0);
         }
      if (!getValue('penta2.date') ) {
         if ( !getValue('penta1.date') || (Math.abs(new Date() - new Date(getValue('penta1.date'))) &lt; window.penta2Spacing) || !(((window.patientAgeDays*86400000) > window.penta2MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.penta2MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#pentafield2').fadeOut(0);
         }
      }
      if (!getValue('penta3.date') ) {
         if ( !getValue('penta1.date') || !getValue('penta2.date') || (Math.abs(new Date() - new Date(getValue('penta2.date'))) &lt; window.penta3Spacing) || !(((window.patientAgeDays*86400000) > window.penta3MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.penta3MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#pentafield3').fadeOut(0);
         }
       }
	 
	   // For DiTePer
	   if(!getValue('diteper1.date'))
	   {
			if ((window.patientAgeDays*86400000) > window.diteper1MinAge) {
				jQuery('#diteperfield1').fadeOut(0);
			 }
		}
		if(getValue('diteper1.date'))
		{
			jQuery('#diteperfield1').fadeIn(0);
		}
		if (!getValue('diteper2.date') ) {
         if ( !getValue('diteper1.date') || (Math.abs(new Date() - new Date(getValue('diteper1.date'))) &lt; window.diteper2Spacing) || !(((window.patientAgeDays*86400000) > window.diteper2MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.diteper2MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#diteperfield2').fadeOut(0);
         }
      }
      if (!getValue('diteper3.date') ) {
         if ( !getValue('diteper1.date') || !getValue('diteper2.date') || (Math.abs(new Date() - new Date(getValue('diteper2.date'))) &lt; window.diteper3Spacing) || !(((window.patientAgeDays*86400000) > window.diteper3MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.diteper3MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#diteperfield3').fadeOut(0);
         }
       }
	   if (!getValue('diteper4.date') ) {
         if ( !getValue('diteper1.date') || !getValue('diteper2.date') || !getValue('diteper3.date') || (Math.abs(new Date() - new Date(getValue('diteper3.date'))) &lt; window.diteper4Spacing)) {
            jQuery('#diteperfield4').fadeOut(0);
         }
      }
	   //For HIB
	   if ( !(getValue('hib1.date') || ((window.patientAgeDays*86400000) > window.hib1MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.hib1MaxAge+window.retrospectiveTime)) ) ) {
            jQuery('#hibfield1').fadeOut(0);
         }
      if (!getValue('hib2.date') ) {
         if ( !getValue('hib1.date') || (Math.abs(new Date() - new Date(getValue('hib1.date'))) &lt; window.hib2Spacing) || !(((window.patientAgeDays*86400000) > window.hib2MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.hib2MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#hibfield2').fadeOut(0);
         }
      }
      if (!getValue('hib3.date') ) {
         if ( !getValue('hib1.date') || !getValue('hib2.date') || (Math.abs(new Date() - new Date(getValue('hib2.date'))) &lt; window.hib3Spacing) || !(((window.patientAgeDays*86400000) > window.hib3MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.hib3MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#hibfield3').fadeOut(0);
         }
       }
	   if (!getValue('hib4.date') ) {
         if ( !getValue('hib1.date') || !getValue('hib2.date') || !getValue('hib3.date') || (Math.abs(new Date() - new Date(getValue('hib3.date'))) &lt; window.hib4Spacing)) {
            jQuery('#hibfield4').fadeOut(0);
         }
      }
	  //Fin HIB
	  //For ROR
	 if ( !getValue('ror1.date') || ((window.patientAgeDays*86400000) &lt; window.ror1MinAge) ) {
            jQuery('#rorfield1').fadeOut(0);
       }
	    if (!getValue('ror2.date')) {
         if ( !getValue('ror1.date') || (Math.abs(new Date() - new Date(getValue('ror1.date'))) &lt; window.ror2Spacing)) {
            jQuery('#rorfield2').fadeOut(0);
         }
      }
	//For RR
		if ( (!getValue('rr1.date')) &amp;&amp; ((window.patientAgeDays*86400000) &lt; window.rr1MinAge) ) {
            jQuery('#rrfield1').fadeOut(0);
       }
	   
	   //For DT
	   if ( !getValue('dt1.date') &amp;&amp; ((window.patientAgeDays*86400000) &lt; window.dt1MinAge) ) {
            jQuery('#dtfield1').fadeOut(0);
       }
	    if (!getValue('dt2.date')) {
         if ( !getValue('dt1.date') || (Math.abs(new Date() - new Date(getValue('dt1.date'))) &lt; window.dt1Spacing) || (window.patientAgeDays*86400000) &lt; window.dt2Spacing) {
            jQuery('#dtfield2').fadeOut(0);
         }
      }
	  //For Diphtérie/Tétanos
		if(!getValue('diphtetanos1.date'))
		{
		   if (((window.patientAgeDays*86400000) &lt; window.diphtetanos1MinAge) ) {
				jQuery('#diphtetanosfield1').fadeOut(0);
		   }
		}
	    if (!getValue('diphtetanos2.date')) {
         if ( !getValue('diphtetanos1.date') || (Math.abs(new Date() - new Date(getValue('diphtetanos1.date'))) &lt; window.dt1Spacing) || (window.patientAgeDays*86400000) &lt; window.diphtetanos2Spacing) {
            jQuery('#diphtetanosfield2').fadeOut(0);
         }
      }
	 //For Varicelle
		if ( !getValue('varicelle1.date') &amp;&amp; ((window.patientAgeDays*86400000) &lt; window.varicelle1MinAge) ) {
            jQuery('#varicellefield1').fadeOut(0);
       }
	   // For Typhimvi
	  if ( !getValue('typhimvi1.date') &amp;&amp; ((window.patientAgeDays*86400000) &lt; window.typhimvi1MinAge) ) {
            jQuery('#typhimvifield1').fadeOut(0);
       }
	   if (!getValue('typhimvi2.date')) {
         if ( !getValue('typhimvi1.date') || (Math.abs(new Date() - new Date(getValue('typhimvi1.date'))) &lt; window.typhimvi2Spacing)) {
            jQuery('#typhimvifield2').fadeOut(0);
         }
	   }
	   //For Meningo
		if ( !getValue('meningo1.date') &amp;&amp; ((window.patientAgeDays*86400000) &lt; window.meningo1MinAge) ) {
            jQuery('#meningofield1').fadeOut(0);
       }
	   if (!getValue('meningo2.date')) {
         if ( !getValue('meningo1.date') || (Math.abs(new Date() - new Date(getValue('meningo1.date'))) &lt; window.meningo2Spacing)) {
            jQuery('#meningofield2').fadeOut(0);
         }
	   }
	   // For BCG
		if(!getValue('bcg1.date'))
		{
			if ((window.patientAgeDays*86400000) > (window.bcg1MaxAge)) {
				jQuery('#bcgfield1').fadeOut(0); 
			}
		}
		// For Cholera 
		if ( !getValue('cholera1.date') &amp;&amp; ((window.patientAgeDays*86400000) &lt; window.cholera1MinAge) ) {
            jQuery('#cholerafield1').fadeOut(0);
       }
	    if (!getValue('cholera2.date')) {
         if ( !getValue('cholera1.date') || (Math.abs(new Date() - new Date(getValue('cholera1.date'))) &lt; window.cholera2Spacing)) {
            jQuery('#cholerafield2').fadeOut(0);
         }
	   }
	   if (!getValue('cholera3.date')) {
         if ( !getValue('cholera2.date') || (Math.abs(new Date() - new Date(getValue('cholera2.date'))) &lt; window.cholera3Spacing)) {
            jQuery('#cholerafield3').fadeOut(0);
         }
	   }
		//For Hepatite A
		if ( !getValue('hepatitea1.date') &amp;&amp; ((window.patientAgeDays*86400000) &lt; window.hepatitea1MinAge) ) {
            jQuery('#hepatiteafield1').fadeOut(0);
       }
	   if (!getValue('hepatitea2.date')) {
         if ( !getValue('hepatitea1.date') || (Math.abs(new Date() - new Date(getValue('hepatitea1.date'))) &lt; window.hepatitea2Spacing)) {
            jQuery('#hepatiteafield2').fadeOut(0);
         }
	   }
	   
	   //==============================================================================================
         if ( !(getValue('rubmes1.date') || ((window.patientAgeDays*86400000) > window.rubmesMinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.rubmesMaxAge+window.retrospectiveTime)) ) ) {
            jQuery('#rubmesfield1').fadeOut(0);
         }

        if ( !(getValue('pneu1.date') || ((window.patientAgeDays*86400000) > window.pneu1MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.pneu1MaxAge+window.retrospectiveTime)) ) ) {
            jQuery('#pneufield1').fadeOut(0);
        }
		if (!getValue('pneu2.date') ) {
			 if ( !getValue('pneu1.date') || (Math.abs(new Date() - new Date(getValue('pneu1.date'))) &lt; window.pneu2Spacing) || !(((window.patientAgeDays*86400000) > window.pneu2MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.pneu2MaxAge-window.retrospectiveTime)) ) ) {
				jQuery('#pneufield2').fadeOut(0);
			 }
		}
		if (!getValue('pneu3.date') ) {
			 if ( !getValue('pneu1.date') || !getValue('pneu2.date') || (Math.abs(new Date() - new Date(getValue('pneu2.date'))) &lt; window.pneu3Spacing) || !(((window.patientAgeDays*86400000) > window.pneu3MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.pneu3MaxAge-window.retrospectiveTime)) ) ) {
				jQuery('#pneufield3').fadeOut(0);
			 }
		}
		if (!getValue('rota1.date') ) {
			if (((window.patientAgeDays*86400000) &lt; window.rota1MinAge) || ((window.patientAgeDays*86400000) > window.rota2MaxAge)) {
				jQuery('#rotafield1').fadeOut(0);
			}
		}
		if (!getValue('rota2.date') ) {
         if ( !getValue('rota1.date') || (Math.abs(new Date() - new Date(getValue('rota1.date'))) &lt; window.rota2Spacing) || ((window.patientAgeDays*86400000) > window.rota2MaxAge)) {
            jQuery('#rotafield2').fadeOut(0);
        }
      }
	  //For HPV
         if(!getValue('hpv1.date'))
		 {
			if ((window.patientAgeDays*86400000) &lt; window.hpv1MinAge) {
				jQuery('#hpvfield1').fadeOut(0);
			}
		 }
      
         if ( !(getValue('td1.date') || ((window.patientAgeDays*86400000) > window.td1MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.td1MaxAge+window.retrospectiveTime)) ) ) {
            jQuery('#tdfield1').fadeOut(0);
         }
      if (!getValue('td2.date') ) {
         if ( !getValue('td1.date') || (Math.abs(new Date() - new Date(getValue('td1.date'))) &lt; window.td2Spacing) || !(((window.patientAgeDays*86400000) > window.td2MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.td2MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#tdfield2').fadeOut(0);
         }
       }
      if (!getValue('td3.date') ) {
         if ( !getValue('td1.date') || !getValue('td2.date') || (Math.abs(new Date() - new Date(getValue('td2.date'))) &lt; window.td3Spacing) || !(((window.patientAgeDays*86400000) > window.td3MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.td3MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#tdfield3').fadeOut(0);
         }
       }
      if (!getValue('td4.date') ) {
         if ( !getValue('td1.date') || !getValue('td2.date') || !getValue('td3.date') || (Math.abs(new Date() - new Date(getValue('td3.date'))) &lt; window.td4Spacing) || !(((window.patientAgeDays*86400000) > window.td4MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.td4MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#tdfield4').fadeOut(0);
         }
      }
      if (!getValue('td5.date') ) {
         if ( !getValue('td1.date') || !getValue('td2.date') || !getValue('td3.date') || !getValue('td4.date') || (Math.abs(new Date() - new Date(getValue('td4.date'))) &lt; window.td5Spacing) || !(((window.patientAgeDays*86400000) > window.td5MinAge &amp;&amp; (window.patientAgeDays*86400000) &lt; (window.td5MaxAge-window.retrospectiveTime)) ) ) {
            jQuery('#tdfield5').fadeOut(0);
         }
      }

         
        });
}
jQuery(function() {
   beforeSubmit.push(function() {
         function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for(var i=0; i &lt; ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1);
                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
            }
            return "";
        }

   var error = false;
   // Clear the previous errors
   getField('hepatiteb1.error').html('').hide();
   getField('polio0.error').html('').hide();
   getField('polio1.error').html('').hide();
   getField('polio2.error').html('').hide();
   getField('polio3.error').html('').hide();
   getField('polio4.error').html('').hide();
   getField('penta1.error').html('').hide();
   getField('penta2.error').html('').hide();
   getField('penta3.error').html('').hide();
  

   window.patientBirthdate = window.patientBirthdate.substring(0, 10);
   if (getValue('polio0.date')) {     // validate polio0
      if ( window.patientBirthdate > getValue('polio0.date') )  { 
        getField('polio0.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('polio0.date')) - new Date(window.patientBirthdate) > window.polio0MaxAge )  { 
        getField('polio0.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('polio1.date')) - new Date(getValue('polio0.date')) &lt; window.polio1Spacing )  { 
        getField('polio0.error').html('Espas twò piti/Space too small').show();
        getField('polio1.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('polio1.date')) {     // validate polio1
      if ( new Date(getValue('polio1.date')) - new Date(window.patientBirthdate) &lt; window.polio1MinAge )  { 
        getField('polio1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('polio1.date')) - new Date(window.patientBirthdate) > window.polio1MaxAge )  { 
        getField('polio1.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('polio2.date')) - new Date(getValue('polio1.date')) &lt; window.polio2Spacing )  { 
        getField('polio1.error').html('Espas twò piti/Space too small').show();
        getField('polio2.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('polio2.date')) {     // validate polio2
      if ( new Date(getValue('polio2.date')) - new Date(window.patientBirthdate) &lt; window.polio2MinAge )  { 
        getField('polio2.error').html('Avan lè/Too early').show();
        getField('polio1.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('polio2.date')) - new Date(window.patientBirthdate) > window.polio2MaxAge )  { 
        getField('polio2.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('polio3.date')) - new Date(getValue('polio2.date')) &lt; window.polio3Spacing )  { 
        getField('polio2.error').html('Espas twò piti/Space too small').show();
        getField('polio3.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('polio3.date')) {     // validate polio3
      if ( new Date(getValue('polio3.date')) - new Date(window.patientBirthdate) &lt; window.polio3MinAge )  { 
        getField('polio3.error').html('Avan lè/Too early').show();
        getField('polio2.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('polio3.date')) - new Date(window.patientBirthdate) > window.polio3MaxAge )  { 
        getField('polio3.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('polio4.date')) - new Date(getValue('polio3.date')) &lt; window.polio3Spacing )  { 
        getField('polio3.error').html('Espas twò piti/Space too small').show();
        getField('polio4.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('polio4.date')) {     // validate polio4
      if ( new Date(getValue('polio4.date')) - new Date(window.patientBirthdate) &lt; window.polio4MinAge )  { 
        getField('polio4.error').html('Avan lè/Too early').show();
        getField('polio3.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('polio4.date')) - new Date(window.patientBirthdate) > window.polio4MaxAge )  { 
        getField('polio4.error').html('Apre lè/Too late').show();
        error = true;
      }
   }

   if (getValue('penta1.date')) {     // validate penta1
      if ( new Date(getValue('penta1.date')) - new Date(window.patientBirthdate) &lt; window.penta1MinAge )  { 
        getField('penta1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('penta1.date')) - new Date(window.patientBirthdate) > window.penta1MaxAge )  { 
        getField('penta1.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('penta2.date')) - new Date(getValue('penta1.date')) &lt; window.penta2Spacing )  { 
        getField('penta1.error').html('Espas twò piti/Space too small').show();
        getField('penta2.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('penta2.date')) {     // validate penta2
      if ( new Date(getValue('penta2.date')) - new Date(window.patientBirthdate) &lt; window.penta2MinAge )  { 
        getField('penta2.error').html('Avan lè/Too early').show();
        getField('penta1.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('penta2.date')) - new Date(window.patientBirthdate) > window.penta2MaxAge )  { 
        getField('penta2.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('penta3.date')) - new Date(getValue('penta2.date')) &lt; window.penta3Spacing )  { 
        getField('penta2.error').html('Espas twò piti/Space too small').show();
        getField('penta3.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('penta3.date')) {     // validate penta3
      if ( new Date(getValue('penta3.date')) - new Date(window.patientBirthdate) &lt; window.penta3MinAge )  { 
        getField('penta3.error').html('Avan lè/Too early').show();
        getField('penta2.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('penta3.date')) - new Date(window.patientBirthdate) > window.penta3MaxAge )  { 
        getField('penta3.error').html('Apre lè/Too late').show();
        error = true;
      }
   }

   if (getValue('bcg1.date')) {     // validate bcg1
      if ( window.patientBirthdate > getValue('bcg1.date') )  { 
        getField('bcg1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('bcg1.date')) - new Date(window.patientBirthdate) > window.bcgMaxAge )  { 
        getField('bcg1.error').html('Apre lè/Too late').show();
        error = true;
      }
   }

   if (getValue('rubmes1.date')) {     // validate rubmes1
      if ( new Date(getValue('rubmes1.date')) - new Date(window.patientBirthdate) &lt; window.rubmesMinAge )  { 
        getField('rubmes1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('rubmes1.date')) - new Date(window.patientBirthdate) > window.rubmesMaxAge )  { 
        getField('rubmes1.error').html('Apre lè/Too late').show();
        error = true;
      }
   }
   if (getValue('pneu1.date')) {     // validate pneu1
      if ( new Date(getValue('pneu1.date')) - new Date(window.patientBirthdate) &lt; window.pneu1MinAge )  { 
        getField('pneu1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('pneu1.date')) - new Date(window.patientBirthdate) > window.pneu1MaxAge )  { 
        getField('pneu1.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('pneu2.date')) - new Date(getValue('pneu1.date')) &lt; window.pneu2Spacing )  { 
        getField('pneu1.error').html('Espas twò piti/Space too small').show();
        getField('pneu2.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('pneu2.date')) {     // validate pneu2
      if ( new Date(getValue('pneu2.date')) - new Date(window.patientBirthdate) &lt; window.pneu2MinAge )  { 
        getField('pneu2.error').html('Avan lè/Too early').show();
        getField('pneu1.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('pneu2.date')) - new Date(window.patientBirthdate) > window.pneu2MaxAge )  { 
        getField('pneu2.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('pneu3.date')) - new Date(getValue('pneu2.date')) &lt; window.pneu3Spacing )  { 
        getField('pneu2.error').html('Espas twò piti/Space too small').show();
        getField('pneu3.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('pneu3.date')) {     // validate pneu3
      if ( new Date(getValue('pneu3.date')) - new Date(window.patientBirthdate) &lt; window.pneu3MinAge )  { 
        getField('pneu3.error').html('Avan lè/Too early').show();
        getField('pneu2.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('pneu3.date')) - new Date(window.patientBirthdate) > window.pneu3MaxAge )  { 
        getField('pneu3.error').html('Apre lè/Too late').show();
        error = true;
      }
   }

   if (getValue('rota1.date')) {     // validate rota1
      if ( new Date(getValue('rota1.date')) - new Date(window.patientBirthdate) &lt; window.rota1MinAge )  { 
        getField('rota1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('rota1.date')) - new Date(window.patientBirthdate) > window.rota1MaxAge )  { 
        getField('rota1.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('rota2.date')) - new Date(getValue('rota1.date')) &lt; window.rota2Spacing )  { 
        getField('rota1.error').html('Espas twò piti/Space too small').show();
        getField('rota2.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('rota2.date')) {     // validate rota2
      if ( new Date(getValue('rota2.date')) - new Date(window.patientBirthdate) &lt; window.rota2MinAge )  { 
        getField('rota2.error').html('Avan lè/Too early').show();
        getField('rota1.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('rota2.date')) - new Date(window.patientBirthdate) > window.rota2MaxAge )  { 
        getField('rota2.error').html('Apre lè/Too late').show();
        error = true;
      }
   }
// validate hpv1
 /*  if (getValue('hpv1.date')) {     
      if ( new Date(getValue('hpv1.date')) - new Date(window.patientBirthdate) &lt; window.hpv1MinAge )  { 
        getField('hpv1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('hpv1.date')) - new Date(window.patientBirthdate) > window.hpv1MaxAge )  { 
        getField('hpv1.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('hpv2.date')) - new Date(getValue('hpv1.date')) &lt; window.hpv2Spacing )  { 
        getField('hpv1.error').html('Espas twò piti/Space too small').show();
        getField('hpv2.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('hpv2.date')) {     // validate hpv2
      if ( new Date(getValue('hpv2.date')) - new Date(window.patientBirthdate) &lt; window.hpv2MinAge )  { 
        getField('hpv2.error').html('Avan lè/Too early').show();
        getField('hpv1.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('hpv2.date')) - new Date(window.patientBirthdate) > window.hpv2MaxAge )  { 
        getField('hpv2.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('hpv3.date')) - new Date(getValue('hpv2.date')) &lt; window.hpv3Spacing )  { 
        getField('hpv2.error').html('Espas twò piti/Space too small').show();
        getField('hpv3.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('hpv3.date')) {     // validate hpv3
      if ( new Date(getValue('hpv3.date')) - new Date(window.patientBirthdate) &lt; window.hpv3MinAge )  { 
        getField('hpv3.error').html('Avan lè/Too early').show();
        getField('hpv2.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('hpv3.date')) - new Date(window.patientBirthdate) > window.hpv3MaxAge )  { 
        getField('hpv3.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('hpv4.date')) - new Date(getValue('hpv3.date')) &lt; window.hpv4Spacing )  { 
        getField('hpv3.error').html('Espas twò piti/Space too small').show();
        getField('hpv4.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('hpv4.date')) {     // validate hpv4
      if ( new Date(getValue('hpv4.date')) - new Date(window.patientBirthdate) &lt; window.hpv4MinAge )  { 
        getField('hpv4.error').html('Avan lè/Too early').show();
        getField('hpv3.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('hpv4.date')) - new Date(window.patientBirthdate) > window.hpv4MaxAge )  { 
        getField('hpv4.error').html('Apre lè/Too late').show();
        error = true;
      }
   }
*/
   if (getValue('td1.date')) {     // validate td1
      if ( new Date(getValue('td1.date')) - new Date(window.patientBirthdate) &lt; window.td1MinAge )  { 
        getField('td1.error').html('Avan lè/Too early').show();
        error = true;
      }
      if ( new Date(getValue('td1.date')) - new Date(window.patientBirthdate) > window.td1MaxAge )  { 
        getField('td1.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('td2.date')) - new Date(getValue('td1.date')) &lt; window.td2Spacing )  { 
        getField('td1.error').html('Espas twò piti/Space too small').show();
        getField('td2.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('td2.date')) {     // validate td2
      if ( new Date(getValue('td2.date')) - new Date(window.patientBirthdate) &lt; window.td2MinAge )  { 
        getField('td2.error').html('Avan lè/Too early').show();
        getField('td1.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('td2.date')) - new Date(window.patientBirthdate) > window.td2MaxAge )  { 
        getField('td2.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('td3.date')) - new Date(getValue('td2.date')) &lt; window.td3Spacing )  { 
        getField('td2.error').html('Espas twò piti/Space too small').show();
        getField('td3.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('td3.date')) {     // validate td3
      if ( new Date(getValue('td3.date')) - new Date(window.patientBirthdate) &lt; window.td3MinAge )  { 
        getField('td3.error').html('Avan lè/Too early').show();
        getField('td2.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('td3.date')) - new Date(window.patientBirthdate) > window.td3MaxAge )  { 
        getField('td3.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('td4.date')) - new Date(getValue('td3.date')) &lt; window.td4Spacing )  { 
        getField('td3.error').html('Espas twò piti/Space too small').show();
        getField('td4.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('td4.date')) {     // validate td4
      if ( new Date(getValue('td4.date')) - new Date(window.patientBirthdate) &lt; window.td4MinAge )  { 
        getField('td4.error').html('Avan lè/Too early').show();
        getField('td3.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('td4.date')) - new Date(window.patientBirthdate) > window.td4MaxAge )  { 
        getField('td4.error').html('Apre lè/Too late').show();
        error = true;
      }
      if ( new Date(getValue('td5.date')) - new Date(getValue('td4.date')) &lt; window.td5Spacing )  { 
        getField('td4.error').html('Espas twò piti/Space too small').show();
        getField('td5.error').html('Espas twò piti/Space too small').show();
        error = true;
      }
   }
   if (getValue('td5.date')) {     // validate td5
      if ( new Date(getValue('td5.date')) - new Date(window.patientBirthdate) &lt; window.td5MinAge )  { 
        getField('td5.error').html('Avan lè/Too early').show();
        getField('td4.error').html('').hide();
        error = true;
      }
      if ( new Date(getValue('td5.date')) - new Date(window.patientBirthdate) > window.td5MaxAge )  { 
        getField('td5.error').html('Apre lè/Too late').show();
        error = true;
      }
   } 
    if (error == true) {
        return false;
    }

    return true;
});

});
</script>

<ifMode mode="EDIT" include="false">
<lookup complexExpression="
#set( $encounter = 0 )
#set( $encounter = $fn.latestEncounter('ee95dbbf-5aec-4eaf-85e3-87cfad31bfa6') )
#if( $encounter != 0 )
&lt;script type=&quot;text/javascript&quot;>
// set the following URL's to your server and form_id.  This will allow you to always edit the form rather than creating new encounters each time it is filled out.
   if (window.location.href != &quot;http://localhost:8081/openmrs-standalone/module/htmlformentry/htmlForm.form?id=11&quot;)
   {
    // Un-comment the line below after you have updated it
    window.location=&quot;http://localhost:8081/openmrs-standalone/htmlformentryui/htmlform/editHtmlFormWithStandardUi.page?patientId=$encounter.patientId&amp;encounterId=$encounter.encounterId&quot;;
   }
&lt;/script>
#end
"/>
</ifMode>
<ifMode mode="ENTER">
<lookup complexExpression="#foreach($encounter in $fn.allEncounters(null))
	#if($form == $encounter.form.formId)
	 &lt;script type=&quot;text/javascript&quot;>
		jQuery(function() {
			//jQuery('#generalcontener').hide();
			
			});
	   &lt;/script> 
	#end
#end "/>
</ifMode>

<hide class="hidden">
   <encounterDate default="today" disallowMultipleEncountersOnDate ="block" />
   <encounterLocation id="encounterLocation" default="SessionAttribute:emrContext.sessionLocationId"/>
   <encounterProviderAndRole default="currentUser" encounterRole="a0b03050-c99b-11e0-9572-0800200c9a66" required="true"/>
</hide>
<div id="generalcontener">
<section headerLabel="Vaccinations">
<table class="tg">
  <tr>
    <th class="tg-5bx4">Vaccin</th>
    <th class="tg-5bx4">Dose 0</th>
    <th class="tg-5bx4">Dose 1</th>
    <th class="tg-5bx4">Dose 2</th>
    <th class="tg-5bx4">Dose 3</th>
    <th class="tg-5bx4">Rappel (Dose 4)</th>
    <th class="tg-5bx4">Rappel (Dose 5)</th> <!--  <encounterLocation id="encounterLocation" default="SessionAttribute:emrContext.sessionLocationId" order="1,2,302"/> -->
  </tr>
  <!-- Hepatite B -->
   <tr>
    <td class="tg-bcg">Hépatite B</td>
    <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="hepatitebfield{dose}" >
                   <immunization showDate="true" id="hepatiteb{dose}" vaccineConceptId="CIEL:782" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1" />
	<render dose="2" />
	<render dose="3" />
</repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
   <tr>
    <td class="tg-polio">Polio (OPV/IPV)</td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="poliofield{dose}" >
                        <immunization showDate="true" id="polio{dose}" vaccineConceptId="CIEL:783" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="0"/>
    <render dose="1"/>
    <render dose="2"/>
    <render dose="3"/>
    <render dose="4"/>
</repeat>
  <td class="tg-ng6d"></td>
  </tr>
  
   <tr>
    <td class="tg-diteper">DiTePer</td>
	 <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="diteperfield{dose}" >
                        <immunization showDate="true" id="diteper{dose}" vaccineConceptId="CIEL:781" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
    <render dose="3"/>
    <render dose="4"/>
	 
</repeat>
 <td class="tg-ng6d"></td>
  </tr>
  
  <tr>
    <td class="tg-hib">HIB</td>
	 <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="hibfield{dose}" >
                        <immunization showDate="true" id="hib{dose}" vaccineConceptId="CIEL:5261" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
    <render dose="3"/>
    <render dose="4"/>
</repeat>
  <td class="tg-ng6d"></td>
  </tr>
  
   <tr>
    <td class="tg-penta">Pentavalent</td>
    <td class="tg-ng6d"></td>
   <repeat>
    <template>
        <td class="tg-g902">
                <div id="pentafield{dose}" >
                     <!--<immunization showDate="true" id="penta{dose}" vaccineConceptId="CIEL:162339" sequenceNumber="{dose}" label="" />-->
					  <immunization showDate="true" id="penta{dose}" vaccineConceptId="CIEL:1423" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
    <render dose="3"/>
   </repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
   <tr>
    <td class="tg-pneu">Pneumocoque</td>
    <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="pneufield{dose}" >
                     <immunization showDate="true" id="pneu{dose}" vaccineConceptId="CIEL:82215" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
    <render dose="3"/>
  </repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
   <tr>
    <td class="tg-rota">Rotavirus</td>
    <td class="tg-ng6d"></td>
   <repeat>
    <template>
        <td class="tg-g902">
                <div id="rotafield{dose}" >
                     <!--<immunization showDate="true" id="rota{dose}" vaccineConceptId="CIEL:159698" sequenceNumber="{dose}" label="" />-->
					 <immunization showDate="true" id="rota{dose}" vaccineConceptId="CIEL:83531" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
   </repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
  
   <tr>
    <td class="tg-ror">ROR</td>
    <td class="tg-ng6d"></td>
   <repeat>
    <template>
        <td class="tg-g902">
                <div id="rorfield{dose}" >
                     <immunization showDate="true" id="ror{dose}" vaccineConceptId="CIEL:159701" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
   </repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
  
  <tr>
    <td class="tg-rr">RR</td>
    <td class="tg-ng6d"></td>
   <repeat>
    <template>
        <td class="tg-g902">
                <div id="rrfield{dose}" >
                     <immunization showDate="true" id="rr{dose}" vaccineConceptId="CIEL:162586" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
   </repeat>
	<td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
   <tr>
    <td class="tg-rota">DT</td>
    <td class="tg-ng6d"></td>
   <repeat>
    <template>
        <td class="tg-g902">
                <div id="dtfield{dose}" >
                     <immunization showDate="true" id="dt{dose}" vaccineConceptId="CIEL:17" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
   </repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
   <tr>
    <td class="tg-varicelle">Varicelle</td>
    <td class="tg-ng6d"></td>
   <repeat>
    <template>
        <td class="tg-g902">
                <div id="varicellefield{dose}" >
                     <immunization showDate="true" id="varicelle{dose}" vaccineConceptId="CIEL:73193" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
   </repeat>
    <td class="tg-ng6d"></td>
	<td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
  
  <tr>
    <td class="tg-bcg">Typhimvi</td>
    <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="typhimvifield{dose}" >
                   <immunization showDate="true" id="typhimvi{dose}" vaccineConceptId="CIEL:86208" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1" />
	<render dose="2" />
</repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
    <tr>
    <td class="tg-bcg">Meningo AC</td>
    <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="meningofield{dose}" >
                   <immunization showDate="true" id="meningo{dose}" vaccineConceptId="CIEL:105030" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1" />
	<render dose="2" />
</repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
  
  <tr>
    <td class="tg-bcg">Hépatite A</td>
    <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="hepatiteafield{dose}" >
                   <immunization showDate="true" id="hepatitea{dose}" vaccineConceptId="CIEL:77424" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1" />
	<render dose="2" />
</repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
  
    <tr>
    <td class="tg-bcg">Cholera</td>
    <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="cholerafield{dose}" >
                   <immunization showDate="true" id="cholera{dose}" vaccineConceptId="CIEL:73354" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1" />
	<render dose="2" />
	<render dose="3" />
</repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
  
  <tr>
    <td class="tg-bcg">BCG</td>
    <td class="tg-ng6d"></td>
<repeat>
    <template>
        <td class="tg-g902">
                <div id="bcgfield{dose}" >
                   <immunization showDate="true" id="bcg{dose}" vaccineConceptId="CIEL:886" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1" />
</repeat>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
    <td class="tg-ng6d"></td>
  </tr>
<includeIf velocityTest="($patient.gender == 'F')"> 
  <tr>
    <td class="tg-hpv">HPV</td>
    <td class="tg-ng6d"></td>
  <repeat>
    <template>
        <td class="tg-g902">
                <div id="hpvfield{dose}" >
                   <immunization showDate="true" id="hpv{dose}" vaccineConceptId="CIEL:159708" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
  </repeat>
    <td class="tg-ng6d"></td>
	<td class="tg-ng6d"></td>
	<td class="tg-ng6d"></td>
	<td class="tg-ng6d"></td>
  </tr>
</includeIf>
  <tr>
    <td class="tg-g901">Diphtérie/Tétanos</td>
    <td class="tg-ng6d"></td>
  <repeat>
    <template>
        <td class="tg-g902">
                <div id="diphtetanosfield{dose}" >
                   <immunization showDate="true" id="diphtetanos{dose}" vaccineConceptId="CIEL:104528" sequenceNumber="{dose}" label="" />
                </div>
        </td>
    </template>
    <render dose="1"/>
    <render dose="2"/>
  </repeat>
   <td class="tg-ng6d"></td>
   <td class="tg-ng6d"></td>
   <td class="tg-ng6d"></td>
  </tr>
</table>
</section>
	
<submit submitClass="confirm right" submitCode="general.save"/>
<button type="button" class="cancel"><uimessage code="general.cancel"/></button>
</div>
</htmlform>